
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Fluid Flow and Heat Transfer in a Mixing Elbow &#8212; PyFluent</title>
    
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    
        <link href="../../_static/css/breadcrumbs.css" rel="stylesheet">
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Parametric Study Workflow" href="../01-parametric/parametric_static_mixer_1.html" />
    <link rel="prev" title="Fluid Flow and Heat Transfer in a Mixing Elbow" href="mixing_elbow_settings_api.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><style>
    .navbar-light {
        background-color: black !important;
    }
</style>

<div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://docs.pyansys.com/">
  <img src="../../_static/pyansys-logo-black-cropped.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon" >
      <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
    </span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../users_guide/index.html">
  User’s Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../contributing.html">
  Contributing
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/pyansys/pyfluent" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    
    
        <div class="container-xl">
    <div class="row">
        <div class="col-12 col-md-3" id="breadcrumbs-spacer"></div>
        <div class="col-12 col-md-11 col-xl-9" id="breadcrumbs">
          
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    
        <li class="nav-item nav-item-additional-breadcrumb"><a href="https://docs.pyansys.com/">PyAnsys</a> » </li>
    
    
        <li class="nav-item nav-item-0"><a href="../../index.html">PyFluent</a> » </li>
    

          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Examples</a> » </li>
        <li class="nav-item nav-item-this"><a href="">Fluid Flow and Heat Transfer in a Mixing Elbow</a></li> 
      </ul>
    </div>
        </div>
  </div>
</div>
    


    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="mixing_elbow_settings_api.html">
   Fluid Flow and Heat Transfer in a Mixing Elbow
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Fluid Flow and Heat Transfer in a Mixing Elbow
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-parametric/parametric_static_mixer_1.html">
   Parametric Study Workflow
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-parametric/parametric_static_mixer_2.html">
   Parametric Project-Based Workflow
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-parametric/parametric_static_mixer_3.html">
   Parametric Session Workflow
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-00-fluent-mixing-elbow-tui-api-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="fluid-flow-and-heat-transfer-in-a-mixing-elbow">
<span id="ref-mixing-elbow-tui-api"></span><span id="sphx-glr-examples-00-fluent-mixing-elbow-tui-api-py"></span><h1>Fluid Flow and Heat Transfer in a Mixing Elbow<a class="headerlink" href="#fluid-flow-and-heat-transfer-in-a-mixing-elbow" title="Permalink to this headline">¶</a></h1>
<p>This example illustrates the setup and solution of a three-dimensional
turbulent fluid flow and heat transfer problem in a mixing elbow. The mixing
elbow configuration is encountered in piping systems in power plants and
processindustries. It is often important to predict the flow field and
temperature field in the area of the mixing regionin order to properly design
the junction.</p>
<p>This example demonstrates how to do the following:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Use the Watertight Geometry guided workflow to:</dt><dd><ul>
<li><p>Import a CAD geometry</p></li>
<li><p>Generate a surface mesh</p></li>
<li><p>Describe the geometry</p></li>
<li><p>Generate a volume mesh</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Launch Ansys Fluent.</p></li>
<li><p>Read an existing mesh file into Ansys Fluent.</p></li>
<li><p>Use mixed units to define the geometry and fluid properties.</p></li>
<li><p>Set material properties and boundary conditions for a turbulent
forced-convection problem.</p></li>
<li><p>Create a surface report definition and use it as a convergence criterion.</p></li>
<li><p>Calculate a solution using the pressure-based solver.</p></li>
<li><p>Visually examine the flow and temperature fields using the postprocessing
tools available in Ansys Fluent.</p></li>
</ul>
<p>Problem Description:
A cold fluid at 20 deg C flows into the pipe through a large inlet, and mixes
with a warmer fluid at 40 deg C that enters through a smaller inlet located at
the elbow. The pipe dimensions are in inches and the fluid properties and
boundary conditions are given in SI units. The Reynolds number for the flow at
the larger inlet is 50, 800, so a turbulent flow model will be required.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, download the geometry file and start Fluent as a service with</span>
<span class="c1"># Meshing Mode, Double Precision, Number of Processors 4</span>

<span class="kn">import</span> <span class="nn">ansys.fluent.core</span> <span class="k">as</span> <span class="nn">pyfluent</span>
<span class="kn">from</span> <span class="nn">ansys.fluent.core</span> <span class="kn">import</span> <span class="n">examples</span>

<a href="https://docs.python.org/dev/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">import_filename</span></a> <span class="o">=</span> <span class="n">examples</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span>
    <span class="s2">&quot;mixing_elbow.pmdb&quot;</span><span class="p">,</span> <span class="s2">&quot;pyfluent/mixing_elbow&quot;</span>
<span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">pyfluent</span><span class="o">.</span><span class="n">launch_fluent</span><span class="p">(</span>
    <span class="n">meshing_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="n">processor_count</span><span class="o">=</span><span class="s2">&quot;4&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the Watertight Geometry Meshing Workflow</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">InitializeWorkflow</span><span class="p">(</span><span class="n">WorkflowType</span><span class="o">=</span><span class="s2">&quot;Watertight Geometry&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the CAD geometry. For Length Units, select &quot;in&quot;.</span>
<span class="c1"># Execute the Import Geometry task.</span>

<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Import Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">FileName</span><span class="o">=</span><a href="https://docs.python.org/dev/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">import_filename</span></a><span class="p">,</span> <span class="n">LengthUnit</span><span class="o">=</span><span class="s2">&quot;in&quot;</span>
<span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Import Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add local sizing:</span>
<span class="c1"># In the Add Local Sizing task, you are prompted as to whether or not you would</span>
<span class="c1"># like to add local sizing controls to the faceted geometry. For the purposes</span>
<span class="c1"># of this example, you can keep the default setting. Execute to complete this</span>
<span class="c1"># task</span>
<span class="c1"># and proceed to the next task in the workflow.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Add Local Sizing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">AddChildToTask</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Add Local Sizing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate the surface mesh:</span>
<span class="c1"># In the Generate the Surface Mesh task, you can set various properties of the</span>
<span class="c1"># surface mesh for the faceted geometry. Specify 0.3 for Maximum Size. Execute</span>
<span class="c1"># the Surface Mesh to complete this task and proceed to the next task in the</span>
<span class="c1"># workflow.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Generate the Surface Mesh&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;CFDSurfaceMeshControls&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;MaxSize&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Generate the Surface Mesh&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Describe the geometry:</span>
<span class="c1"># When you select the Describe Geometry task, you are prompted with questions</span>
<span class="c1"># relating to the nature of the imported geometry. Since the geometry defined</span>
<span class="c1"># the fluid region. Select The geometry consists of only fluid regions with no</span>
<span class="c1"># voids for Geometry Type. Execute Describe Geometry to complete this task and</span>
<span class="c1"># proceed</span>
<span class="c1"># to the next task in the workflow.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Describe Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">UpdateChildTasks</span><span class="p">(</span>
    <span class="n">SetupTypeChanged</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Describe Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">SetupType</span><span class="o">=</span><span class="s2">&quot;The geometry consists of only fluid regions with no voids&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Describe Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">UpdateChildTasks</span><span class="p">(</span>
    <span class="n">SetupTypeChanged</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Describe Geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update Boundaries Task:</span>
<span class="c1"># For the wall-inlet boundary, change the Boundary Type field to wall. Execute</span>
<span class="c1"># Update Boundaries to complete this task and proceed to the next task in the</span>
<span class="c1"># workflow.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Update Boundaries&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;BoundaryLabelList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall-inlet&quot;</span><span class="p">],</span>
    <span class="s2">&quot;BoundaryLabelTypeList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall&quot;</span><span class="p">],</span>
    <span class="s2">&quot;OldBoundaryLabelList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall-inlet&quot;</span><span class="p">],</span>
    <span class="s2">&quot;OldBoundaryLabelTypeList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;velocity-inlet&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Update Boundaries&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update your regions:</span>
<span class="c1"># Select the Update Regions task, where you can review the names and types of</span>
<span class="c1"># the various regions that have been generated from your imported geometry, and</span>
<span class="c1"># change them as needed. Keep the default settings, and execute Update Regions.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Update Regions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add Boundary Layers:</span>
<span class="c1"># Select the Add Boundary Layers task, where you can set properties of the</span>
<span class="c1"># boundary layer mesh. Keep the default settings, and Add Boundary Layers.</span>

<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Add Boundary Layers&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">AddChildToTask</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Add Boundary Layers&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">InsertCompoundChildTask</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;smooth-transition_1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;BLControlName&quot;</span><span class="p">:</span> <span class="s2">&quot;smooth-transition_1&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Add Boundary Layers&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;smooth-transition_1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate the volume mesh:</span>
<span class="c1"># Select the Generate the Volume Mesh task, where you can set properties of the</span>
<span class="c1"># volume mesh. Select the poly-hexcore for Fill With. Execute Generate the</span>
<span class="c1"># Volume Mesh.</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Generate the Volume Mesh&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Arguments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;VolumeFill&quot;</span><span class="p">:</span> <span class="s2">&quot;poly-hexcore&quot;</span><span class="p">,</span>
    <span class="s2">&quot;VolumeFillControls&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;HexMaxCellLength&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
<span class="n">s</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">TaskObject</span><span class="p">[</span><span class="s2">&quot;Generate the Volume Mesh&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Execute</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;menu-processing?&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check the mesh in Meshing mode</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">meshing</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">check_mesh</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the mesh file (mixing_elbow.msh.h5)</span>
<span class="c1"># s.tui.meshing.file.write_mesh(&#39;mixing_elbow.msh.h5&#39;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Switch to Solution mode:</span>
<span class="c1"># Now that a high-quality mesh has been generated using Ansys Fluent in meshing</span>
<span class="c1"># mode, you can now switch to solver mode to complete the setup of the</span>
<span class="c1"># simulation. We have just checked the mesh, so select Yes to switch to</span>
<span class="c1"># solution mode.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">meshing</span><span class="o">.</span><span class="n">switch_to_solution_mode</span><span class="p">(</span><span class="s2">&quot;yes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check the mesh in Solver mode:</span>
<span class="c1"># The mesh check will list the minimum and maximum x, y, and z values from the</span>
<span class="c1"># mesh in the default SI unit of meters. It will also report a number of other</span>
<span class="c1"># mesh features that are checked. Any errors in the mesh will be reported at</span>
<span class="c1"># this time. Ensure that the minimum volume is not negative, since Ansys Fluent</span>
<span class="c1"># cannot begin a calculation when this is the case.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the working units for the mesh:</span>
<span class="c1"># select &quot;in&quot; to set inches as the working unit for length. Note:  Because the</span>
<span class="c1"># default SI units will be used for everything except length, there is no need</span>
<span class="c1"># to change any other units in this problem. If you want a different working</span>
<span class="c1"># unit for length, other than inches (for example, millimeters), make the</span>
<span class="c1"># appropriate change.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">units</span><span class="p">(</span><span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable heat transfer by activating the energy equation.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">energy</span><span class="p">(</span><span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a new material called water-liquid.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;fluid&quot;</span><span class="p">,</span> <span class="s2">&quot;water-liquid&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up the cell zone conditions for the fluid zone (elbow-fluid). Select</span>
<span class="c1"># water-liquid from the Material list.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">fluid</span><span class="p">(</span>
    <span class="s2">&quot;elbow-fluid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;water-liquid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up the boundary conditions for the inlets, outlet, and walls for your CFD</span>
<span class="c1"># analysis.</span>

<span class="c1"># cold inlet (cold-inlet), Setting: Value:</span>
<span class="c1"># Velocity Specification Method: Magnitude, Normal to Boundary</span>

<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;cold-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;vmag&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;cold-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;ke-spec&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;cold-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-intensity&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;cold-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-hydraulic-diam&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;cold-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="mf">293.15</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># hot inlet (hot-inlet), Setting: Value:</span>
<span class="c1"># Velocity Specification Method: Magnitude, Normal to Boundary</span>


<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;hot-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;vmag&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;hot-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;ke-spec&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;hot-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-intensity&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;hot-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-hydraulic-diam&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">velocity_inlet</span><span class="p">(</span>
    <span class="s2">&quot;hot-inlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="mf">313.15</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pressure outlet (outlet), Setting: Value:</span>
<span class="c1"># Backflow Turbulent Intensity: 5 [%]</span>
<span class="c1"># Backflow Turbulent Viscosity Ratio: 4</span>

<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">pressure_outlet</span><span class="p">(</span>
    <span class="s2">&quot;outlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-intensity&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">define</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">pressure_outlet</span><span class="p">(</span>
    <span class="s2">&quot;outlet&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="s2">&quot;turb-viscosity-ratio&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable the plotting of residuals during the calculation.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">monitors</span><span class="o">.</span><span class="n">residual</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;yes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a surface report definition of average temperature at the outlet</span>
<span class="c1"># (outlet) called &quot;outlet-temp-avg</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">report_definitions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="s2">&quot;outlet-temp-avg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surface-massavg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field&quot;</span><span class="p">,</span>
    <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surface-names&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;()&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a surface report file called outlet-temp-avg-rfile using</span>
<span class="c1"># report-definition outlet-temp-avg</span>
<span class="c1"># s.tui.solver.solve.report_files.add(</span>
<span class="c1">#    &quot;outlet-temp-avg-rfile&quot;,</span>
<span class="c1">#    &quot;report-defs&quot;,</span>
<span class="c1">#    &quot;outlet-temp-avg&quot;,</span>
<span class="c1">#    &quot;()&quot;,</span>
<span class="c1">#    &quot;file-name&quot;,</span>
<span class="c1">#    &quot;outlet-temp-avg-rfile.out&quot;,</span>
<span class="c1">#    &quot;print?&quot;,</span>
<span class="c1">#    &quot;yes&quot;,</span>
<span class="c1">#    &quot;file-name&quot;,</span>
<span class="c1">#    &quot;outlet-temp-avg-rfile.out&quot;,</span>
<span class="c1">#    &quot;frequency&quot;,</span>
<span class="c1">#    &quot;3&quot;,</span>
<span class="c1">#    &quot;frequency-of&quot;,</span>
<span class="c1">#    &quot;iteration&quot;,</span>
<span class="c1">#    &quot;itr-index&quot;,</span>
<span class="c1">#    &quot;1&quot;,</span>
<span class="c1">#    &quot;run-index&quot;,</span>
<span class="c1">#    &quot;0&quot;,</span>
<span class="c1">#    &quot;quit&quot;,</span>
<span class="c1"># )</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a convergence condition for outlet-temp-avg:</span>
<span class="c1"># Provide con-outlet-temp-avg for Conditions. Select outlet-temp-avg Report</span>
<span class="c1"># Definition. Provide 1e-5 for Stop Criterion. Provide 20 for Ignore Iterations</span>
<span class="c1"># Before. Provide 15 for Use Iterations. Enable Print. Set Every Iteration to</span>
<span class="c1"># 3.</span>


<span class="c1"># These settings will cause Fluent to consider the solution converged when the</span>
<span class="c1"># surface report definition value for each of the previous 15 iterations is</span>
<span class="c1"># within 0.001% of the current value. Convergence of the values will be checked</span>
<span class="c1"># every 3 iterations. The first 20 iterations will be ignored, allowing for any</span>
<span class="c1"># initial solution dynamics to settle out. Note that the value printed to the</span>
<span class="c1"># console is the deviation between the current and previous iteration values</span>
<span class="c1"># only.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">convergence_conditions</span><span class="p">(</span>
    <span class="s2">&quot;conv-reports&quot;</span><span class="p">,</span>
    <span class="s2">&quot;add&quot;</span><span class="p">,</span>
    <span class="s2">&quot;con-outlet-temp-avg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;initial-values-to-ignore&quot;</span><span class="p">,</span>
    <span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;previous-values-to-consider&quot;</span><span class="p">,</span>
    <span class="s2">&quot;15&quot;</span><span class="p">,</span>
    <span class="s2">&quot;print?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;report-defs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outlet-temp-avg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stop-criterion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;1e-05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">,</span>
    <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
    <span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">convergence_conditions</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the flow field using the Hybrid Initialization</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">initialize</span><span class="o">.</span><span class="n">hyb_initialization</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the case file (mixing_elbow1.cas.h5).</span>
<span class="c1"># s.tui.solver.file.write_case(&#39;mixing_elbow1.cas.h5&#39;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solve for 150 Iterations.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="o">.</span><span class="n">iterate</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Examine the mass flux report for convergence: Select cold-inlet, hot-inlet,</span>
<span class="c1"># and outlet from the Boundaries selection list.</span>
<span class="c1"># s.tui.solver.report.fluxes.mass_flow(</span>
<span class="c1">#    &quot;no&quot;, &quot;cold-inlet&quot;, &quot;hot-inlet&quot;, &quot;outlet&quot;, &quot;()&quot;, &quot;yes&quot;, &quot;mass-flux1.flp&quot;</span>
<span class="c1"># )</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the data file (mixing_elbow1.dat.h5).</span>
<span class="c1"># s.tui.solver.file.write_data(&#39;mixing_elbow1.dat.h5&#39;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and display a definition for velocity magnitude contours on the</span>
<span class="c1"># symmetry plane:</span>
<span class="c1"># Provide contour-vel for Contour Name. Select velocity magnitude. Select</span>
<span class="c1"># symmetry-xyplane from the Surfaces list. Display contour-vel contour.</span>


<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;contour&quot;</span><span class="p">,</span>
    <span class="s2">&quot;contour-vel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;filled?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node-values?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field&quot;</span><span class="p">,</span>
    <span class="s2">&quot;velocity-magnitude&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surfaces-list&quot;</span><span class="p">,</span>
    <span class="s2">&quot;symmetry-xyplane&quot;</span><span class="p">,</span>
    <span class="s2">&quot;()&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coloring&quot;</span><span class="p">,</span>
    <span class="s2">&quot;banded&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># s.tui.solver.display.objects.display(&quot;contour-vel&quot;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and display a definition for temperature contours on the symmetry</span>
<span class="c1"># plane:</span>
<span class="c1"># Provide contour-temp for Contour Name. Select temperature. Select</span>
<span class="c1"># symmetry-xyplane from the Surfaces list. Display contour-temp contour.</span>

<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;contour&quot;</span><span class="p">,</span>
    <span class="s2">&quot;contour-temp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;filled?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node-values?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field&quot;</span><span class="p">,</span>
    <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surfaces-list&quot;</span><span class="p">,</span>
    <span class="s2">&quot;symmetry-xyplane&quot;</span><span class="p">,</span>
    <span class="s2">&quot;()&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coloring&quot;</span><span class="p">,</span>
    <span class="s2">&quot;smooth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># s.tui.solver.display.objects.display(&quot;contour-temp&quot;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and display velocity vectors on the symmetry-xyplane plane:</span>

<span class="c1"># Provide vector-vel for Vector Name. Select arrow for the Style. Select</span>
<span class="c1"># symmetry-xyplane from the Surfaces selection list. Provide 4 for Scale. Set</span>
<span class="c1"># Skip to 2.</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;vector&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vector-vel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;style&quot;</span><span class="p">,</span>
    <span class="s2">&quot;arrow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surface-list&quot;</span><span class="p">,</span>
    <span class="s2">&quot;symmetry-xyplane&quot;</span><span class="p">,</span>
    <span class="s2">&quot;()&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scale&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scale-f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;skip&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># s.tui.solver.display.objects.display(&quot;vector-vel&quot;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an iso-surface representing the intersection of the plane z=0 and the</span>
<span class="c1"># surface outlet. Name: z=0_outlet</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">iso_surface</span><span class="p">(</span>
    <span class="s2">&quot;z-coordinate&quot;</span><span class="p">,</span> <span class="s2">&quot;z=0_outlet&quot;</span><span class="p">,</span> <span class="s2">&quot;outlet&quot;</span><span class="p">,</span> <span class="s2">&quot;()&quot;</span><span class="p">,</span> <span class="s2">&quot;()&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;()&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>s.tui.solver.file.write_case_data(“mixing_elbow1_tui.cas.h5”)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display and save an XY plot of the temperature profile across the centerline</span>
<span class="c1"># of the outlet for the initial solution</span>
<span class="n">s</span><span class="o">.</span><span class="n">tui</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;xy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;xy-outlet-temp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;y-axis-function&quot;</span><span class="p">,</span>
    <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surfaces-list&quot;</span><span class="p">,</span>
    <span class="s2">&quot;z=0_outlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;()&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># s.tui.solver.display.objects.display(&quot;xy-outlet-temp&quot;)</span>
<span class="c1"># s.tui.solver.plot.plot(</span>
<span class="c1">#    &quot;yes&quot;,</span>
<span class="c1">#    &quot;temp-1.xy&quot;,</span>
<span class="c1">#    &quot;no&quot;,</span>
<span class="c1">#    &quot;no&quot;,</span>
<span class="c1">#    &quot;no&quot;,</span>
<span class="c1">#    &quot;temperature&quot;,</span>
<span class="c1">#    &quot;yes&quot;,</span>
<span class="c1">#    &quot;1&quot;,</span>
<span class="c1">#    &quot;0&quot;,</span>
<span class="c1">#    &quot;0&quot;,</span>
<span class="c1">#    &quot;z=0_outlet&quot;,</span>
<span class="c1">#    &quot;()&quot;,</span>
<span class="c1"># )</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write final case and data.</span>
<span class="c1"># s.tui.solver.file.write_case_data(&quot;mixing_elbow2_tui.cas.h5&quot;)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 3 minutes  15.611 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-00-fluent-mixing-elbow-tui-api-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/4b4f03cf363b62ad46289a86440390ff/mixing_elbow_tui_api.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">mixing_elbow_tui_api.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/9b5b514d05de9bd5a6b125b14506e03a/mixing_elbow_tui_api.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">mixing_elbow_tui_api.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright (c) 2022 ANSYS, Inc. All rights reserved.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>